diff -Nuar ./configure ../xmoto-0.1.7.fix/configure
--- ./configure	2005-10-27 20:04:30.000000000 +0500
+++ ../xmoto-0.1.7.fix/configure	2005-11-01 17:26:52.000000000 +0500
@@ -3766,13 +3766,13 @@
 
 
 
-echo "$as_me:$LINENO: checking for lua_pushboolean in -llua50" >&5
-echo $ECHO_N "checking for lua_pushboolean in -llua50... $ECHO_C" >&6
-if test "${ac_cv_lib_lua50_lua_pushboolean+set}" = set; then
+echo "$as_me:$LINENO: checking for lua_pushboolean in -llua" >&5
+echo $ECHO_N "checking for lua_pushboolean in -llua... $ECHO_C" >&6
+if test "${ac_cv_lib_lua_lua_pushboolean+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-llua50  $LIBS"
+LIBS="-llua  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -3816,42 +3816,42 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_lua50_lua_pushboolean=yes
+  ac_cv_lib_lua_lua_pushboolean=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_lua50_lua_pushboolean=no
+ac_cv_lib_lua_lua_pushboolean=no
 fi
 rm -f conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_lua50_lua_pushboolean" >&5
-echo "${ECHO_T}$ac_cv_lib_lua50_lua_pushboolean" >&6
-if test $ac_cv_lib_lua50_lua_pushboolean = yes; then
+echo "$as_me:$LINENO: result: $ac_cv_lib_lua_lua_pushboolean" >&5
+echo "${ECHO_T}$ac_cv_lib_lua_lua_pushboolean" >&6
+if test $ac_cv_lib_lua_lua_pushboolean = yes; then
   cat >>confdefs.h <<_ACEOF
-#define HAVE_LIBLUA50 1
+#define HAVE_LIBLUA 1
 _ACEOF
 
-  LIBS="-llua50 $LIBS"
+  LIBS="-llua $LIBS"
 
 else
 
-        echo "liblua50 required!"
+        echo "liblua required!"
         exit -1
 
 fi
 
 
 
-echo "$as_me:$LINENO: checking for luaopen_math in -llualib50" >&5
-echo $ECHO_N "checking for luaopen_math in -llualib50... $ECHO_C" >&6
-if test "${ac_cv_lib_lualib50_luaopen_math+set}" = set; then
+echo "$as_me:$LINENO: checking for luaopen_math in -llualib" >&5
+echo $ECHO_N "checking for luaopen_math in -llualib... $ECHO_C" >&6
+if test "${ac_cv_lib_lualib_luaopen_math+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-llualib50  $LIBS"
+LIBS="-llualib  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -3895,29 +3895,29 @@
   ac_status=$?
   echo "$as_me:$LINENO: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
-  ac_cv_lib_lualib50_luaopen_math=yes
+  ac_cv_lib_lualib_luaopen_math=yes
 else
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_lualib50_luaopen_math=no
+ac_cv_lib_lualib_luaopen_math=no
 fi
 rm -f conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
 LIBS=$ac_check_lib_save_LIBS
 fi
-echo "$as_me:$LINENO: result: $ac_cv_lib_lualib50_luaopen_math" >&5
-echo "${ECHO_T}$ac_cv_lib_lualib50_luaopen_math" >&6
-if test $ac_cv_lib_lualib50_luaopen_math = yes; then
+echo "$as_me:$LINENO: result: $ac_cv_lib_lualib_luaopen_math" >&5
+echo "${ECHO_T}$ac_cv_lib_lualib_luaopen_math" >&6
+if test $ac_cv_lib_lualib_luaopen_math = yes; then
   cat >>confdefs.h <<_ACEOF
-#define HAVE_LIBLUALIB50 1
+#define HAVE_LIBLUALIB 1
 _ACEOF
 
-  LIBS="-llualib50 $LIBS"
+  LIBS="-llualib $LIBS"
 
 else
 
-        echo "liblualib50 required!"
+        echo "liblualib required!"
         exit -1
 
 fi
@@ -3979,7 +3979,7 @@
   echo "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-ac_cv_lib_ode_dJointAttach=no
+ac_cv_lib_ode_dJointAttach=yes
 fi
 rm -f conftest.err conftest.$ac_objext \
       conftest$ac_exeext conftest.$ac_ext
diff -Nuar ./configure.in ../xmoto-0.1.7.fix/configure.in
--- ./configure.in	2005-10-27 20:04:27.000000000 +0500
+++ ../xmoto-0.1.7.fix/configure.in	2005-11-01 17:26:52.000000000 +0500
@@ -39,13 +39,13 @@
         exit -1
         ])
         
-AC_CHECK_LIB(lua50,lua_pushboolean, [], [
-        echo "liblua50 required!"
+AC_CHECK_LIB(lua,lua_pushboolean, [], [
+        echo "liblua required!"
         exit -1
         ])
 
-AC_CHECK_LIB(lualib50,luaopen_math, [], [
-        echo "liblualib50 required!"
+AC_CHECK_LIB(lualib,luaopen_math, [], [
+        echo "liblualib required!"
         exit -1
         ])
 
diff -Nuar ./src/VCommon.h ../xmoto-0.1.7.fix/src/VCommon.h
--- ./src/VCommon.h	2005-10-27 20:06:43.000000000 +0500
+++ ../xmoto-0.1.7.fix/src/VCommon.h	2005-11-01 17:26:52.000000000 +0500
@@ -74,13 +74,13 @@
 
 extern "C" {
   #if defined(WIN32) 
-    #include "lua/lua.h"
-    #include "lua/lauxlib.h"
-    #include "lua/lualib.h"
+    #include "lua.h"
+    #include "lauxlib.h"
+    #include "lualib.h"
   #else
-    #include <lua50/lua.h>
-    #include <lua50/lauxlib.h>
-    #include <lua50/lualib.h>
+    #include <lua.h>
+    #include <lauxlib.h>
+    #include <lualib.h>
   #endif
 };
 
